!function(){"use strict";angular.module("pottytag",["ngCookies","ngSanitize","ngResource","ngRoute","ngMaterial"])}(),function(){"use strict";function e(){function e(){return t}var t=[{title:"AngularJS",url:"https://angularjs.org/",description:"HTML enhanced for web apps!",logo:"angular.png"},{title:"BrowserSync",url:"http://browsersync.io/",description:"Time-saving synchronised browser testing.",logo:"browsersync.png"},{title:"GulpJS",url:"http://gulpjs.com/",description:"The streaming build system.",logo:"gulp.png"},{title:"Jasmine",url:"http://jasmine.github.io/",description:"Behavior-Driven JavaScript.",logo:"jasmine.png"},{title:"Karma",url:"http://karma-runner.github.io/",description:"Spectacular Test Runner for JavaScript.",logo:"karma.png"},{title:"Protractor",url:"https://github.com/angular/protractor",description:"End to end test framework for AngularJS applications built on top of WebDriverJS.",logo:"protractor.png"},{title:"Angular Material Design",url:"https://material.angularjs.org/#/",description:"The Angular reference implementation of the Google's Material Design specification.",logo:"angular-material.png"},{title:"Sass (Node)",url:"https://github.com/sass/node-sass",description:"Node.js binding to libsass, the C version of the popular stylesheet preprocessor, Sass.",logo:"node-sass.png"},{key:"jade",title:"Jade",url:"http://jade-lang.com/",description:"Jade is a high performance template engine heavily influenced by Haml and implemented with JavaScript for node.",logo:"jade.png"}];this.getTec=e}angular.module("pottytag").service("webDevTec",e)}(),function(){"use strict";function e(){function e(e){var t=this;t.relativeDate=e(t.creationDate).fromNow()}var t={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["moment"],t}angular.module("pottytag").directive("acmeNavbar",e)}(),function(){"use strict";function e(e){function t(t,n,o,r){var a,i=e(n[0],{typeSpeed:40,deleteSpeed:40,pauseDelay:800,loop:!0,postfix:" "});n.addClass("acme-malarkey"),angular.forEach(t.extraValues,function(e){i.type(e).pause()["delete"]()}),a=t.$watch("vm.contributors",function(){angular.forEach(r.contributors,function(e){i.type(e.login).pause()["delete"]()})}),t.$on("$destroy",function(){a()})}function n(e,t){function n(){return o().then(function(){e.info("Activated Contributors View")})}function o(){return t.getContributors(10).then(function(e){return r.contributors=e,r.contributors})}var r=this;r.contributors=[],n()}var o={restrict:"E",scope:{extraValues:"="},template:"&nbsp;",link:t,controller:n,controllerAs:"vm"};return n.$inject=["$log","githubContributor"],o}angular.module("pottytag").directive("acmeMalarkey",e),e.$inject=["malarkey"]}(),function(){"use strict";function e(e,t){function n(n){function r(e){return e.data}function a(t){e.error("XHR Failed for getContributors.\n"+angular.toJson(t.data,!0))}return n||(n=30),t.get(o+"/contributors?per_page="+n).then(r)["catch"](a)}var o="https://api.github.com/repos/Swiip/generator-gulp-angular",r={apiHost:o,getContributors:n};return r}angular.module("pottytag").factory("githubContributor",e),e.$inject=["$log","$http"]}(),function(){"use strict";function e(e,t,n,o,r){function a(){n.get(h+"status").success(function(e){p.apiData=e,i(e),p.lastChecked=new Date}).error(function(e){console.log("getAPIdata error: ",e)})}function i(e){p.maleNum=+e.m_population,p.femaleNum=+e.f_population,p.occupied=p.maleNum+p.femaleNum>0?!0:!1}function c(){p.relativeDate=r(p.lastChecked).fromNow()}function s(){console.log("checkin");var e="action&action=checkin&gender="+p.currentUser.gender;e+="&last_checkin="+p.currentUser.id,n.get(h+e).success(function(e){console.log("checkin success: ",e);var n=new Date;p.checkedIn=!0,p.checkinExpires=new Date(n.getTime()+f),p.currentUser.id=e.id,console.log("checked in: currentUser.id: ",p.currentUser.id),p.autoCheckout=t(l,f),p.promptCheck=t(m,v)}).error(function(e){console.log("checkin error: ",e)}),localStorage.setItem("currentUser",JSON.stringify(p.currentUser)),t(a,500)}function l(){if(console.log("checkout"),!p.currentUser.id)return console.log("no id set");var e="action&action=checkout&last_checkin="+p.currentUser.id;n.get(h+e).success(function(e){console.log("checkout success: ",e),p.currentUser.id=0,p.checkedIn=!1,p.checkinExpires=null,t.cancel(p.autoCheckout)}).error(function(e){console.log("checkout error: ",e)}),localStorage.setItem("currentUser",JSON.stringify(p.currentUser)),t(a,500)}function u(){console.log("currentUser: ",p.currentUser),localStorage.setItem("currentUser",JSON.stringify(p.currentUser))}function g(e){var t="../assets/images/toilet.png";return p.maleNum>1&&(t="../assets/images/m_toilet_use.png"),p.femaleNum>1&&(t="../assets/images/f_toilet_use.png"),p.maleNum>0&&1===e&&(t="../assets/images/m_toilet_use.png"),p.femaleNum>0&&2===e&&(t="../assets/images/f_toilet_use.png"),t}function m(){confirm("Do you want to stay checked-in to the bathroom for another 5 minutes?")?s():l()}var p=this,d=JSON.parse(localStorage.getItem("currentUser")),h="http://spiralpower.net/pottytag/api/?r=",f=3e5,v=f-3e4;p.getAPIdata=a,p.checkin=s,p.checkout=l,p.genderSet=u,p.getToiletIcons=g,p.apiData="Checking status...",p.occupied=!1,p.maleNum=0,p.femaleNum=0,p.relativeDate="...",p.currentUser={gender:d?d.gender:"m",id:d?d.id:0},p.checkedIn=!1,p.checkinExpires=null,a();var b=o(a,5e3),y=o(c,1e3);c(),e.$on("destroy",function(){o.cancel(b),o.cancel(y)})}angular.module("pottytag").controller("MainController",e),e.$inject=["$scope","$timeout","$http","$interval","moment"]}(),function(){"use strict";function e(e){e.debug("runBlock end")}angular.module("pottytag").run(e),e.$inject=["$log"]}(),function(){"use strict";function e(e){e.when("/",{templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}).otherwise({redirectTo:"/"})}angular.module("pottytag").config(e),e.$inject=["$routeProvider"]}(),function(){"use strict";angular.module("pottytag").constant("malarkey",malarkey).constant("toastr",toastr).constant("moment",moment)}(),function(){"use strict";function e(e,t){e.debugEnabled(!0),t.options.timeOut=3e3,t.options.positionClass="toast-top-right",t.options.preventDuplicates=!0,t.options.progressBar=!0}angular.module("pottytag").config(e),e.$inject=["$logProvider","toastr"]}(),angular.module("pottytag").run(["$templateCache",function(e){e.put("app/main/main.html",'<div layout="vertical" layout-fill=""><md-content><section class="jumbotron"><img class="hero-image" src="../assets/images/pottytag_water.png" alt="Potty Tag"></section><div class="status-display"><div class="toilets-display"><div class="toilets"><img ng-src="{{main.getToiletIcons(1)}}" alt=""> <img ng-src="{{main.getToiletIcons(2)}}" alt=""></div></div><h2>Bathroom status: <span ng-class="main.occupied ? \'occupied\' : \'available\'">{{main.occupied ? \'Occupied\' : \'Available\'}}</span></h2><ul ng-if="main.occupied"><li ng-if="main.maleNum > 0">{{main.maleNum}} {{main.maleNum === 1 ? \'guy\' : \'guys\'}}</li><li ng-if="main.femaleNum > 0">{{main.femaleNum}} {{main.femaleNum === 1 ? \'lady\' : \'ladies\'}}</li></ul><p ng-if="!main.occupied">There is currently no one checked in to the bathroom.</p><p style="font-size:small">Last checked {{main.relativeDate}}</p><div class="buttons"><div class="check-button checkin" ng-click="main.checkin()" ng-if="!main.checkedIn"></div><div class="check-button checkout" ng-click="main.checkout()" ng-if="main.checkedIn"></div></div><div class="set-gender"><span>Set Your Gender:</span><form class="set-gender" name="set-gender"><label><input type="radio" value="m" ng-model="main.currentUser.gender" ng-change="main.genderSet()">Male</label> <label><input type="radio" value="f" ng-model="main.currentUser.gender" ng-change="main.genderSet()">Female</label></form></div></div></md-content></div>'),e.put("app/components/navbar/navbar.html","")}]);